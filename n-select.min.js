!function(){const e=!!navigator.userAgent.match("Chrome"),t=navigator.userAgent.match(/Safari/)&&!e;let n=e=>{e.target.closest(".n-select__options > *")||e.target.closest(".n-select")||document.querySelectorAll(".n-select__options[aria-expanded]:not([data-n-select-animation])").forEach((e=>{i(e)}))},o=e=>{i(document.querySelector(".n-select__options[aria-expanded]"))},r=(e,t=!0)=>{if(!e||"BUTTON"!==e.tagName)return;let n=e.closest(".n-select__options");n.querySelectorAll("[aria-selected]").forEach((e=>e.removeAttribute("aria-selected"))),e.setAttribute("aria-selected",!0),n.nuiSelectWrapper.dataset.value=e.value,n.hasAttribute("aria-expanded")&&(e.focus(),t&&i(n));let o=n.children[0];n.nuiSelectWrapper.style.setProperty("--active-option-height",`${e.getBoundingClientRect().height}px`),o.style.removeProperty("--top-offset"),o.style.removeProperty("--max-height");let r=n.nuiNativeInput;r.innerHTML=`<option value="${e.value}"></option>`;const l=new Event("change");r.dispatchEvent(l),n.nuiOnChange&&n.nuiOnChange(index,r.value)},i=e=>{delete e.dataset.nSelectAnimation,delete e.dataset.transitionend,e.removeAttribute("aria-expanded"),document.body.classList.remove("n-select--open"),e.style.font="",e.nuiSelectWrapper.prepend(e),window.removeEventListener("resize",o),window.removeEventListener("scroll",o),e.querySelector("[aria-selected]").tabIndex=-1,window.removeEventListener("pointerup",n),e.removeEventListener("pointerup",d);let t=e.parentNode;t.classList.remove("n-select--open"),t.style.removeProperty("--width"),e.style.removeProperty("--scroll-help-top"),e.classList.remove("n-select--scroll-help-top"),window.requestAnimationFrame((t=>e.nuiSelectWrapper.focus()))},l=e=>{let r=document.body.querySelector(".n-select__options[aria-expanded]");r&&i(r);let l=e.parentNode;l.style.setProperty("--width",`${l.getBoundingClientRect().width}px`),l.classList.add("n-select--open"),e.style.removeProperty("--top-offset"),e.style.removeProperty("--max-height"),e.style.removeProperty("--select-scroll-height"),e.style.removeProperty("--active-option-offset"),e.classList.remove("n-select--crop-top");let s=e.getBoundingClientRect().height;e.style.setProperty("--max-width",`${e.parentNode.getBoundingClientRect().width}px`),e.style.setProperty("--body-offset-x",(t?visualViewport.offsetLeft:0)+e.getBoundingClientRect().x-("relative"===document.body.style.position?document.body.getBoundingClientRect().x:0)),e.style.setProperty("--body-offset-y",(t?visualViewport.offsetTop:0)+e.getBoundingClientRect().y-("relative"===document.body.style.position?document.body.getBoundingClientRect().y:0)),e.querySelector("[aria-selected]").removeAttribute("tabindex"),document.body.classList.add("n-select--open"),e.setAttribute("aria-expanded",!0),e.style.font=getComputedStyle(l).font,document.body.appendChild(e),e.style.setProperty("--select-scroll-height",`${e.getBoundingClientRect().height}px`);let a=e.querySelector("[aria-selected]").getBoundingClientRect().y-e.getBoundingClientRect().y,c=0;if(e.style.setProperty("--active-option-offset",a),e.getBoundingClientRect().y<0){let t=e.getBoundingClientRect().height+e.getBoundingClientRect().y;e.style.setProperty("--max-height",`${t}px`),e.scrollTop=Math.abs(Math.round(e.getBoundingClientRect().y)),c=Math.abs(e.getBoundingClientRect().y),e.style.setProperty("--top-offset",c),e.classList.add("n-select--crop-top"),e.getBoundingClientRect().height>window.innerHeight&&e.style.setProperty("--max-height",t-Math.abs(window.innerHeight-e.getBoundingClientRect().height)+"px")}else{e.getBoundingClientRect().y+e.getBoundingClientRect().height>window.innerHeight&&e.style.setProperty("--max-height",`${Math.abs(window.innerHeight-e.getBoundingClientRect().y)}px`);let t=e.getBoundingClientRect().y;if(e.scrollHeight>e.getBoundingClientRect().height){let n=e.getBoundingClientRect().height-e.scrollHeight,o=Math.abs(Math.min(n,t))-2*parseInt(getComputedStyle(e).paddingInlineEnd);o>0&&(e.style.setProperty("--scroll-help-top",o),e.classList.add("n-select--scroll-help-top"))}}e.classList.remove("n-scrollbar"),e.getBoundingClientRect().width>e.querySelector("button").getBoundingClientRect().width+2*parseInt(getComputedStyle(e).paddingInlineEnd)&&e.classList.add("n-scrollbar"),e.style.setProperty("--mask-position-y",""+(a-c)),e.style.setProperty("--mask-size-y",`${s}px`),window.requestAnimationFrame((t=>{setTimeout((()=>{e.dataset.nSelectAnimation=!0,e.querySelector("[aria-selected]").focus()}),1)})),window.addEventListener("resize",o),window.addEventListener("scroll",o),window.addEventListener("pointerup",n)},s=(e,t)=>{let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}return!1},a=e=>{let t=e.target.closest(".n-select__options"),n=e.target;t.hasAttribute("aria-expanded")&&(n.href?i(t):r(n))},c=e=>{let t=e.target.closest(".n-select__options")||e.target.querySelector(".n-select__options");t&&!t.hasAttribute("aria-expanded")&&(l(t),t.removeEventListener("click",a),setTimeout((()=>{t.addEventListener("click",a)}),100))},d=e=>{let t=e.target.closest("button"),n=e.target.closest(".n-select__options");if(e.target.href)e.target.click();else{if(!t||!n.hasAttribute("aria-expanded")||t.hasAttribute("aria-selected"))return;r(t)}document.body.style.pointerEvents="none",setTimeout((()=>{document.body.style.pointerEvents=""}),100)},u=null,p=e=>{[32,35,36,37,38,39,40].includes(e.keyCode)&&(e.stopPropagation(),e.preventDefault())},y=e=>{if("SELECT"===e.target.tagName)return;p(e);let t=e.target.closest(".n-select__options");if(e.target.classList.contains("n-select")&&(t=e.target.querySelector(".n-select__options")),t){switch(e.key){case"Enter":e.target.classList.contains("n-select")&&l(t);break;case"Escape":i(t);break;case"ArrowDown":if(t.hasAttribute("aria-expanded")){let n=s(e.target,"button, a[href]");n?n.focus():t.querySelector("button").focus()}else l(t);break;case"ArrowUp":if(t.hasAttribute("aria-expanded")){let n=((e,t)=>{let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}return!1})(e.target,"button, a[href]");if(n)n.focus();else{let e=t.querySelectorAll("button");e[e.length-1].focus()}}else l(t);break;case"Home":t.querySelector("button").focus();break;case"End":t.querySelector("button:last-of-type").focus();break;default:t.nuiSearchTerm+=e.key.toLowerCase(),clearTimeout(u),u=setTimeout((()=>{for(let e of t.querySelectorAll("button"))e.textContent.trim().toLowerCase().startsWith(t.nuiSearchTerm)&&r(e,!1);t.nuiSearchTerm=""}),200)}return!1}},g=e=>{window.PointerEvent&&e.querySelectorAll(".n-select:not([data-ready])").forEach((e=>{let t=e;if("SELECT"===e.tagName)return;if(!(e=e.querySelector(".n-select__options"))){let n="";t.querySelectorAll("option").forEach((e=>{n+=`<button value="${e.value}">${e.textContent}</button>`})),(e=document.createElement("span")).insertAdjacentHTML("beforeend",n),t.prepend(e)}if(e.nuiSelectWrapper=t,e.classList.add("n-select__options"),e.nuiNativeInput=e.nuiSelectWrapper.querySelector("select, input")||s(e.nuiSelectWrapper,"select")||document.querySelector(`[data-n_select="${e.nuiSelectWrapper.dataset.n_select}"]`),!e.nuiNativeInput){let n=document.createElement("select");n.name=e.dataset.name,t.append(n),e.nuiNativeInput=n}let n=e.nuiNativeInput.value,o=e.querySelector(`button[value="${n}"`);e.nuiNativeInput.innerHTML="",t.addEventListener("pointerdown",c),e.addEventListener("click",a),e.addEventListener("focusout",(e=>{let t=e.target.closest(".n-select__options");t.hasAttribute("aria-expanded")&&e.relatedTarget&&e.relatedTarget.parentNode!==t&&(i(t),t.nuiSelectWrapper.focus())})),e.ontransitionend=e=>{let t=e.target;t.style.removeProperty("--mask-position-y"),t.style.removeProperty("--mask-size-y"),delete t.dataset.nSelectAnimation,t.addEventListener("pointerup",d),t.dataset.transitionend=!0},e.addEventListener("keydown",y),t.addEventListener("keydown",y),e.addEventListener("keyup",p),t.addEventListener("keyup",p),e.lastElementChild.onkeydown=e=>{"Tab"===e.key&&!e.shiftKey&&e.target.parentNode.hasAttribute("aria-expanded")&&(i(e.target.parentNode),e.target.parentNode.nuiSelectWrapper.focus())},e.querySelectorAll("button").forEach((e=>{e.type="button",e.value=e.value||e.textContent.trim()})),t.setAttribute("tabindex",0),(e.querySelector("[aria-selected]")||e.firstElementChild).tabIndex=-1,t.style.setProperty("--inline-width",`${e.getBoundingClientRect().width}px`),r(e.querySelector("[aria-selected]")||o||e.querySelector("button")),e.nuiSearchTerm="",["n-select--rounded","n-select--shadow"].forEach((n=>{t.classList.contains(n)&&e.classList.add(n)}));let l=e.closest("label")||document.querySelector(`label[for="${e.nuiNativeInput.id}"]`);l&&(l.onclick=e=>{let t=e.target;if(!t.closest(".n-select")){e.preventDefault(),t=t.closest("label"),(t.querySelector(".n-select")||document.getElementById(t.getAttribute("for")).closest(".n-select")).focus()}}),t.dataset.ready=!0,window.requestAnimationFrame((()=>{t.style.setProperty("--active-option-height",`${e.querySelector("[aria-selected]").getBoundingClientRect().height}px`),["--control-color","--control-bg","--control-active-color","--control-active-bg","--control-highlight"].forEach((n=>{e.style.setProperty(n,t.style.getPropertyValue(n))}))}))}))};"function"==typeof registerComponent?registerComponent("n-select",g):g(document.body)}();