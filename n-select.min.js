!function(){let e=e=>{e.target.closest(".n-select__options > *")||e.target.closest(".n-select")||document.querySelectorAll(".n-select__options[aria-expanded]:not([data-n-select-animation])").forEach((e=>{o(e)}))},t=e=>{o(document.querySelector(".n-select__options[aria-expanded]"))},n=(e,t=!0)=>{if(!e||"BUTTON"!==e.tagName)return;let n=e.closest(".n-select__options"),r=n.querySelector("[aria-selected]");r&&r.removeAttribute("aria-selected"),e.setAttribute("aria-selected",!0),n.nuiSelectWrapper.dataset.value=e.value,n.hasAttribute("aria-expanded")&&(e.focus(),t&&o(n));let i=n.children[0];n.nuiSelectWrapper.style.setProperty("--active-option-height",`${e.getBoundingClientRect().height}px`),i.style.removeProperty("--top-offset"),i.style.removeProperty("--max-height");let l=n.nuiNativeSelect,s=[...e.parentNode.querySelectorAll("button")].indexOf(e);l&&(l.value=n.children[s].value),n.nuiOnChange&&n.nuiOnChange(s,l.value)},o=n=>{delete n.dataset.nSelectAnimation,n.removeAttribute("aria-expanded"),document.body.classList.remove("n-select--open"),n.nuiSelectWrapper.prepend(n),window.removeEventListener("resize",t),n.querySelector("[aria-selected]").tabIndex=-1,window.requestAnimationFrame((e=>n.nuiSelectWrapper.focus())),document.body.removeEventListener("click",e),n.removeEventListener("pointerup",c);let o=n.parentNode;o.style.removeProperty("--width"),n.style.removeProperty("--scroll-help-top"),n.classList.remove("n-select--scroll-help-top"),"function"==typeof nuiDisableBodyScroll&&nuiDisableBodyScroll(!1,n);let i=o;for(;i!==document.body;)i.removeEventListener("scroll",r),i=i.parentNode},r=e=>{let t=document.querySelector("body > .n-select__options");o(t)},i=n=>{let i=document.body.querySelector(".n-select__options[aria-expanded]");i&&o(i);let l=n.parentNode;l.style.setProperty("--width",`${l.getBoundingClientRect().width}px`),n.style.removeProperty("--top-offset"),n.style.removeProperty("--max-height"),n.style.removeProperty("--select-scroll-height"),n.style.removeProperty("--active-option-offset"),n.classList.remove("n-select--crop-top");let s=n.getBoundingClientRect().height;n.style.setProperty("--max-width",`${n.parentNode.getBoundingClientRect().width}px`),n.style.setProperty("--body-offset-x",n.getBoundingClientRect().x-("relative"===document.body.style.position?document.body.getBoundingClientRect().x:0)),n.style.setProperty("--body-offset-y",n.getBoundingClientRect().y-("relative"===document.body.style.position?document.body.getBoundingClientRect().y:0)),n.querySelector("[aria-selected]").removeAttribute("tabindex"),document.body.classList.add("n-select--open"),n.setAttribute("aria-expanded",!0),document.body.appendChild(n),n.style.setProperty("--select-scroll-height",`${n.getBoundingClientRect().height}px`);let a=n.querySelector("[aria-selected]").getBoundingClientRect().y-n.getBoundingClientRect().y,c=0;if(n.style.setProperty("--active-option-offset",a),n.getBoundingClientRect().y<0){let e=n.getBoundingClientRect().height+n.getBoundingClientRect().y;n.style.setProperty("--max-height",`${e}px`),n.scrollTop=Math.abs(n.getBoundingClientRect().y),c=Math.abs(n.getBoundingClientRect().y),n.style.setProperty("--top-offset",c),n.classList.add("n-select--crop-top"),n.getBoundingClientRect().height>window.innerHeight&&n.style.setProperty("--max-height",e-Math.abs(window.innerHeight-n.getBoundingClientRect().height)+"px")}else{n.getBoundingClientRect().y+n.getBoundingClientRect().height>window.innerHeight&&n.style.setProperty("--max-height",`${Math.abs(window.innerHeight-n.getBoundingClientRect().y)}px`);let e=n.getBoundingClientRect().y;if(n.scrollHeight>n.getBoundingClientRect().height){let t=n.getBoundingClientRect().height-n.scrollHeight,o=Math.abs(Math.min(t,e))-2*parseInt(getComputedStyle(n).paddingInlineEnd);o>0&&(n.style.setProperty("--scroll-help-top",o),n.classList.add("n-select--scroll-help-top"))}}n.classList.remove("n-scrollbar"),n.getBoundingClientRect().width>n.querySelector("button").getBoundingClientRect().width+2*parseInt(getComputedStyle(n).paddingInlineEnd)&&n.classList.add("n-scrollbar"),n.style.setProperty("--mask-position-y",""+(a-c)),n.style.setProperty("--mask-size-y",`${s}px`),window.requestAnimationFrame((e=>{setTimeout((()=>{n.dataset.nSelectAnimation=!0,n.querySelector("[aria-selected]").focus()}),1)})),window.addEventListener("resize",t),document.body.addEventListener("click",e),"function"==typeof nuiDisableBodyScroll&&nuiDisableBodyScroll(!0,n);let d=l.parentNode;for(;d!==document.body;)d.addEventListener("scroll",r),d=d.parentNode},l=(e,t)=>{let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}return!1},s=e=>{let t=e.target.closest(".n-select__options"),r=e.target;t.hasAttribute("aria-expanded")&&(r.href?o(t):n(r))},a=e=>{let t=e.target.closest(".n-select__options")||e.target.querySelector(".n-select__options");t.hasAttribute("aria-expanded")||(i(t),t.removeEventListener("click",s),setTimeout((()=>{t.addEventListener("click",s)}),100))},c=e=>{let t=e.target.closest("button"),o=e.target.closest(".n-select__options");if(e.target.href)e.target.click();else{if(!t||!o.hasAttribute("aria-expanded")||t.hasAttribute("aria-selected"))return;n(t)}document.body.style.pointerEvents="none",setTimeout((()=>{document.body.style.pointerEvents=""}),100)},d=null,u=e=>{[32,35,36,37,38,39,40].includes(e.keyCode)&&(e.stopPropagation(),e.preventDefault())},p=e=>{if("SELECT"===e.target.tagName)return;u(e);let t=e.target.closest(".n-select__options");if(e.target.classList.contains("n-select")&&(t=e.target.querySelector(".n-select__options")),t){switch(e.key){case"Enter":e.target.classList.contains("n-select")&&i(t);break;case"Escape":o(t);break;case"ArrowDown":if(t.hasAttribute("aria-expanded")){let n=l(e.target,"button, a[href]");n?n.focus():t.querySelector("button").focus()}else i(t);break;case"ArrowUp":if(t.hasAttribute("aria-expanded")){let n=((e,t)=>{let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}return!1})(e.target,"button, a[href]");if(n)n.focus();else{let e=t.querySelectorAll("button");e[e.length-1].focus()}}else i(t);break;case"Home":t.querySelector("button").focus();break;case"End":t.querySelector("button:last-of-type").focus();break;default:t.nuiSearchTerm+=e.key.toLowerCase(),clearTimeout(d),d=setTimeout((()=>{for(let e of t.querySelectorAll("button"))e.textContent.trim().toLowerCase().startsWith(t.nuiSearchTerm)&&n(e,!1);t.nuiSearchTerm=""}),200)}return!1}},y=e=>{window.PointerEvent&&e.querySelectorAll(".n-select:not([data-ready])").forEach((e=>{let t=e;if("SELECT"===e.tagName)return;if(!(e=e.querySelector(".n-select__options"))){let n="";t.querySelectorAll("option").forEach((e=>{n+=`<button value="${e.value}">${e.textContent}</button>`})),(e=document.createElement("div")).insertAdjacentHTML("beforeend",n),t.prepend(e)}if(e.nuiSelectWrapper=t,e.classList.add("n-select__options"),e.nuiNativeSelect=e.nuiSelectWrapper.querySelector("select, input")||l(e.nuiSelectWrapper,"select")||document.querySelector(`[data-n_select="${e.nuiSelectWrapper.dataset.n_select}"]`),!e.nuiNativeSelect){let n=document.createElement("input");n.name=e.dataset.name,t.append(n),e.nuiNativeSelect=n}t.addEventListener("pointerdown",a),e.addEventListener("click",s),e.addEventListener("focusout",(e=>{let t=e.target.closest(".n-select__options");t.hasAttribute("aria-expanded")&&e.relatedTarget&&e.relatedTarget.parentNode!==t&&(o(t),t.nuiSelectWrapper.focus())})),e.ontransitionend=e=>{let t=e.target;t.style.removeProperty("--mask-position-y"),t.style.removeProperty("--mask-size-y"),delete t.dataset.nSelectAnimation,t.addEventListener("pointerup",c)},e.addEventListener("keydown",p),t.addEventListener("keydown",p),e.addEventListener("keyup",u),t.addEventListener("keyup",u),e.lastElementChild.onkeydown=e=>{"Tab"===e.key&&!e.shiftKey&&e.target.parentNode.hasAttribute("aria-expanded")&&(o(e.target.parentNode),e.target.parentNode.nuiSelectWrapper.focus())},e.querySelectorAll("button").forEach((e=>{e.type="button",e.value=e.value||e.textContent.trim()})),t.setAttribute("tabindex",0),(e.querySelector("[aria-selected]")||e.firstElementChild).tabIndex=-1,t.style.setProperty("--inline-width",`${e.getBoundingClientRect().width}px`),n(e.querySelector("[aria-selected]")||e.querySelector("button")),e.nuiSearchTerm="";let r=e.closest("label")||document.querySelector(`label[for="${e.nuiNativeSelect.id}"]`);r&&(r.onclick=e=>{let t=e.target;if(!t.closest(".n-select")){e.preventDefault(),t=t.closest("label"),(t.querySelector(".n-select")||document.getElementById(t.getAttribute("for")).closest(".n-select")).focus()}}),t.dataset.ready=!0,window.requestAnimationFrame((()=>{t.style.setProperty("--active-option-height",`${e.querySelector("[aria-selected]").getBoundingClientRect().height}px`)}))}))};"function"==typeof registerComponent?registerComponent("n-select",y):y(document.body)}();